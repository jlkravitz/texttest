devtools::load_all(".")
stat
df
list(a = 3)
devtools::install("texttest")
pwd
fs::path_wd()
devtools::install(".")
devtools::install(".")
devtools::install(".")
library(texttest)
permutation_test
list(a = "a")
list(df = df)
a <- function(...) {print(...[[1]])}
a(b = 32)
a(b = 32, c = "asd")
a <- function(...) {print(...[1])}
a(b = 32, c = "asd")
devtools::install(".")
devtools::install(".")
library(texttest)
permutation_test
permutation_test()
df
devtools::install(".")
word_count_stat
devtools::uninstall(".")
devtools::install(".")
devtools::install(".")
devtools::install(".")
df <- read_rds("../qualitative-measure/data/study_data_94.rds")
library(tidyverse)
df <- read_rds("../qualitative-measure/data/study_data_94.rds")
library(tidyverse)
devtools::install(".")
devtools::uninstall(".")
devtools::install(".")
devtools::install(".")
devtools::install(".")
devtools::install(".")
devtools::build()
devtools::install(".")
tidyverse_logo()
tidyverse::tidyverse_logo()
rlang
library(texttest)
devtools::install(".")
library(tidyverse)
tidyverse_conflicts()
tidyverse_logo()
df
devtools::install(".")
devtools::uninstall(".")
devtools::install(".")
devtools::install_github("r-lib/devtools")
library(devtools)
has_devel()
library(devtools)
library(devtools)
library(devtools)
uninstallinstall.packages(c("devtools", "roxygen2", "testthat", "knitr"))
install.packages(c("devtools", "roxygen2", "testthat", "knitr"))
install.packages(c("devtools", "roxygen2", "testthat", "knitr"))
install.packages(c("devtools", "roxygen2", "testthat", "knitr"))
install.packages(c("devtools", "roxygen2", "testthat", "knitr"))
library(devtools)
rstudioapi::isAvailable("0.99.149")
devtools::install_github("r-lib/devtools")
R.version.string
rlang
install.packages("rlang")
install.packages("rlang")
install.packages("rlang")
library(devtools)
has_devel()
.libPaths()
libPaths()
.libPaths()
devtools::load_all(".")
a
library(tidyverse)
pivot_longer
cols
build_longer_spec
?build_longer_spec
pivot_longer
?pivot_longer_spec
pivot_longer
pivot_longer_spec
list(a = 1:3)
a <- "three"
list(!!a := 1:3)
library(tidyverse)
list(!!a := 1:3)
list(!a := 1:3)
list(!a = 1:3)
list(!!a = 1:3)
list(!!a := (1:3))
`:=`
library(dplyr)
:=
mutate
library(rlang)
`:=`
list(!!a = 1:3)
list(!!a = (1:3))
list(!!a := 1:3)
a <- enquo(a)
list(!!a := 1:3)
a
a <- "three"
a <- quo_name(a)
a
a
list(!!a := 1:3)
list(a = 1:3)
a
bind_rows(1:3, 1:5)
bind_cols(1:3, 1:5)
bind(1:3)
rbind(1:3)
rbind(1:3, 4:5)
rbind(1:3, 4:6)
rbind(1:3, 4:6)
cbind(1:3, 4:6)
rbind(1:3, 4:6)
c(1:3, 4:6)
devtools::load_all(".")
devtools::load_all(".")
measure
measure()
load()
pool()
digest()
df
tibble(a = c("hi there", "bye there"), b = c("welcome back", "get out of here"))
tibble(a = c("hi there", "bye there"), b = c("welcome back", "get out of here")) %>% unnest_tokens(word, a)
tibble(a = c("hi there", "bye there"), b = c("welcome back", "get out of here")) %>% unnest_tokens(word, c(a, b))
tibble(a = c("hi there", "bye there"), b = c("welcome back", "get out of here"))
df <- tibble(a = c("hi there", "bye there"), b = c("welcome back", "get out of here"))
df %>% pivot_longer(cols = c(a, b))
df <- tibble(a = c("hi there", "bye there"), b = c("welcome back", "get out of here"), d = c(1, 2))
df %>% pivot_longer(cols = c(a, b))
df %>% pivot_longer(cols = c(a, b)) %>% unnest_tokens(word, value)
df %>% pivot_longer(cols = c(a, b))
df %>% pivot_longer(cols = c(a, b)) %>% pull(value_)
df %>% pivot_longer(cols = c(a, b)) %>% pull(value)
df %>% pivot_longer(cols = c(a, b)) %>% pull(value) %>% unnest_tokens(word)
df %>% pivot_longer(cols = c(a, b))
df %>% pivot_longer(cols = c(a, b)) %>% pull(value)
df %>% pivot_longer(cols = c(a, b)) %>% pull(value) %>% as_tibble()
df %>% pivot_longer(cols = c(a, b)) %>% pull(value) %>% enframe()
df %>% pivot_longer(cols = c(a, b)) %>% pull(value) %>% enframe(name = NULL)
df
df %>% pivot_longer(cols = c(a, b))
df %>% pivot_longer(cols = c(a, b)) %>% count(d, wt = d)
df %>% pivot_longer(cols = c(a, b)) %>% nest(d)
df %>% pivot_longer(cols = c(a, b)) %>% nest(-d)
df <- tibble(word = c("a", "hi", "bye", "there", "tree"), id = c(1, 2, 1, 1, 2))
df
df <- tibble(word = c("a", "hi", "bye", "there", "tree"), id = c(1, 2, 1, 1, 2), score = c(3, 7, 1, -6, 2))
df
df %>% nest(-id)
df %>% select(-word) %>% nest(-id)
df %>% select(-word) %>% nest(-id) %>% pull(data)
df <- tibble(word = c("a", "hi", "bye", "there", "tree"), id = c(1, 2, 1, 1, 2), score = c(3, 7, 1, -6, 2))
df
df %>% select(-word)?n
?nest
df
df2 <- tibble(a = c("hi there", "bye there"), b = c("welcome back", "get out of here"))
df2
df2 %>% pull(a) %>% enframe(name = NULL, value = "text")
df2 %>% pull(a) %>% enframe(name = NULL, value = "text") %>% unnest_tokens(word, text)
df2 %>% pull(a) %>% enframe(name = "te", value = "text")
df2 %>% pull(a) %>% enframe(name = "id", value = "text")
df2 %>% pull(a) %>% enframe(name = "id", value = "text") %>% unnest_tokens(word, text)
df2 %>% pull(a) %>% enframe(name = "id", value = "text") %>% unnest_tokens(word, text) %>% transmute(id, score = word %in% c("hi", "bye"))
df2 %>% pull(a) %>% enframe(name = "id", value = "text") %>% unnest_tokens(word, text) %>% transmute(id, score = word %in% c("hi", "bye")) %>% nest(id)
df2 %>% pull(a) %>% enframe(name = "id", value = "text") %>% unnest_tokens(word, text) %>% transmute(id, score = word %in% c("hi", "bye")) %>% nest(score)
df2 %>% pull(a) %>% enframe(name = "id", value = "text") %>% unnest_tokens(word, text) %>% transmute(id, score = word %in% c("hi", "bye"))
df2 %>% pull(a) %>% enframe(name = "id", value = "text") %>% unnest_tokens(word, text) %>% transmute(id, score = word %in% c("hi", "bye")) %>% group_by(id) %>% summarize(score = list(score))
df2 %>% pull(a) %>% enframe(name = "id", value = "text") %>% unnest_tokens(word, text)
df2 %>% pull(a) %>% enframe(name = "id", value = "text") %>% unnest_tokens(word, text) %>% expand(c(1,2))
df2 %>% pull(a) %>% enframe(name = "id", value = "text") %>% unnest_tokens(word, text) %>% cross2(c(1,2))
df2 %>% pull(a) %>% enframe(name = "id", value = "text") %>% unnest_tokens(word, text) %>% cross_df()
df2 %>% pull(a) %>% enframe(name = "id", value = "text") %>% unnest_tokens(word, text)
df2 %>% pull(a) %>% enframe(name = "id", value = "text") %>% unnest_tokens(word, text)
df
df2
df2 %>% pull(a)
df2 %>% pull(a) %>% enframe()
as.integer(TRUE)
as.integer(FALSE)
as.integer(c(T, T, F, F, T))
df
tibble(x = 1:3)
library(tidyverse)
tibble(x = 1:3)
tibble(x = 1:3) %>% mutate(x = 5:6)
tibble(x = 1:3) %>% mutate(x = 5:7)
tibble(x = 1:3, y = 6:9)
tibble(x = 1:3, y = 6:10)
tibble(x = 1:3, y = 6:8)
tibble(x = 1:3, y = 6:8) %>% mutate_at(vars(x), function(x) {x * 2})
tibble(x = 1:3, y = 6:8) %>% mutate_at(vars(x), list("doubled"= function(x) {x * 2}))
tibble(x = 1:3, y = 6:8) %>% mutate_at(vars(x,y), list("doubled"= function(x) {x * 2}))
?mutate_at
?unnest_tokens
library(tidytext)
?unnest_tokens
c("asdf", "asdf")
c("asdf", "asdf") %>% enframe()
c("asdf", "asdf") %>% enframe(name = "id")
c("asdf", "asdf") %>% enframe(name = "id") %>% unnest_tokens(word, response)
c("asdf", "asdf") %>% enframe(name = "id", value = "response") %>% unnest_tokens(word, response)
c("asdf gobble", "asdf gook") %>% enframe(name = "id", value = "response") %>% unnest_tokens(word, response)
c("asdf gobbl ticke", "asdf goo tock") %>% enframe(name = "id", value = "response") %>% unnest_tokens(word, response, token = "ngrams")
c("asdf gobbl ticke", "asdf goo tock") %>% enframe(name = "id", value = "response") %>% unnest_tokens(word, response, token = "ngrams", n = 2)
c("asdf gobbl ticke", "asdf goo tock") %>% enframe(name = "id", value = "response") %>% unnest_tokens(word, response, token = "ngrams", n = 2)
c("asdf gobbl ticke", "asdf goo tock")%>% unnest_tokens(word, response, token = "ngrams", n = 2)
split_tokens <- function(responses, ...) {
responses %>%
enframe(name = "id", value = "response") %>%
unnest_tokens(token, response, ...)
}
c("asdf gobbl ticke", "asdf goo tock")
c("asdf gobbl ticke", "asdf goo tock") %>% split_tokens(token = "words")
c("asdf gobbl ticke", "asdf goo tock") %>% split_tokens(token = "words") %>% measure_tokens(count_targets, targets = c("hi", "bye"))
measure_tokens <- function(tokens, measure_token_fn, ...) {
tokens %>%
mutate_at(vars(token), list("measurement" = measure_token_fn), ...)
}
count_targets <- function(tokens, targets) {
count_targets_in_token <- function(token) {
map(targets, ~ . == token)
}
tokens %>%
map(count_targets_in_token)
}
count_targets(c("hi", "there", "it's", "me", "bye"), c("hi", "bye"))
count_targets <- function(tokens, targets) {
count_targets_in_token <- function(token) {
map_lgl(targets, ~ . == token)
}
tokens %>%
map(count_targets_in_token)
}
count_targets(c("hi", "there", "it's", "me", "bye"), c("hi", "bye"))
count_targets <- function(tokens, targets) {
count_targets_in_token <- function(token) {
map_lgl(targets, ~ . == token)
}
tokens %>%
map_lgl(count_targets_in_token)
}
count_targets(c("hi", "there", "it's", "me", "bye"), c("hi", "bye"))
count_targets <- function(tokens, targets) {
count_targets_in_token <- function(token) {
map_lgl(targets, ~ . == token)
}
tokens %>%
map(count_targets_in_token)
}
count_targets(c("hi", "there", "it's", "me", "bye"), c("hi", "bye"))
a <- count_targets(c("hi", "there", "it's", "me", "bye"), c("hi", "bye"))
a[[1]]
a[[1]] %>% typeof
count_targets <- function(tokens, targets) {
count_targets_in_token <- function(token) {
map_lgl(targets, `==`, token)
}
tokens %>%
map(count_targets_in_token)
}
a[[1]] %>% typeof
count_targets(c("hi", "there", "it's", "me", "bye"), c("hi", "bye"))
count_targets <- function(tokens, targets) {
count_targets_in_token <- function(token) {
map_lgl(targets, `==`, token)
}
tokens %>%
map(~ map_lgl(targets, `==`, token))
}
count_targets(c("hi", "there", "it's", "me", "bye"), c("hi", "bye"))
count_targets <- function(tokens, targets) {
count_targets_in_token <- function(token) {
map_lgl(targets, `==`, token)
}
tokens %>%
map(~ map_lgl(targets, `==`, .))
}
count_targets(c("hi", "there", "it's", "me", "bye"), c("hi", "bye"))
count_targets <- function(tokens, targets) {
tokens %>%
map(map_lgl, targets, `==`)
}
count_targets(c("hi", "there", "it's", "me", "bye"), c("hi", "bye"))
count_targets <- function(tokens, targets) {
tokens %>%
map(~ map_lgl(targets, `==`, .))
}
count_targets(c("hi", "there", "it's", "me", "bye"), c("hi", "bye"))
count_targets <- function(tokens, targets) {
tokens %>%
map(~ map_lgl(targets, `==`, .) %>% as.integer)
}
count_targets(c("hi", "there", "it's", "me", "bye"), c("hi", "bye"))
as_integer
library(tidyverse)
as_integer
source('~/.active-rstudio-document', echo=TRUE)
responses <- c("asdf gobbl ticke", "asdf goo tock")
responses %>% split_tokens(token = "words")
responses %>% split_tokens(token = "words") %>% measure_tokens(count_targets, targets = c("hi", "bye"))
responses %>% split_tokens(token = "words") %>% measure_tokens(count_targets, targets = c("hi", "bye", "asdf"))
responses %>% split_tokens(token = "words") %>% measure_tokens(count_targets, targets = c("hi", "bye", "asdf")) %>% pool_tokens(sum)
responses %>% split_tokens(token = "words") %>% measure_tokens(count_targets, targets = c("hi", "bye", "asdf"))
responses %>% split_tokens(token = "words") %>% measure_tokens(count_targets, targets = c("hi", "bye", "asdf")) %>% group_by(id) %>% summarize(measurement = sum(measurement))
sum(list(c(1, 2), c(3, 4)))
`+`(list(c(1, 2), c(3, 4)))
reduce
reduce?reduce
?reduce
reduce(list(1:2, 3:4), `+`)
pool_tokens <- function(tokens, pool_token_fn) {
tokens %>%
group_by(id) %>%
summarize(measurement = reduce(measurement, `+`))
}
responses %>% split_tokens(token = "words") %>% measure_tokens(count_targets, targets = c("hi", "bye", "asdf")) %>% pool_tokens(sum)
responses %>% split_tokens(token = "words") %>% measure_tokens(count_targets, targets = c("hi", "bye", "asdf")) %>% group_by(id) %>% summarize(measurement = reduce(measurement, `+`))
responses %>% split_tokens(token = "words") %>% measure_tokens(count_targets, targets = c("hi", "bye", "asdf")) %>% group_by(id) %>% summarize(measurement = list(reduce(measurement, `+`)))
responses %>% split_tokens(token = "words") %>% measure_tokens(count_targets, targets = c("hi", "bye", "asdf")) %>% group_by(id) %>% summarize(measurement = list(reduce(measurement, `+`))) %>% pull(measurement)
responses
responses %>% split_tokens(token = "words") %>% measure_tokens(count_targets, targets = c("hi", "bye", "asdf", "goo")) %>% group_by(id) %>% summarize(measurement = list(reduce(measurement, `+`))) %>% pull(measurement)
pool_tokens <- function(tokens, pool_token_fn) {
tokens %>%
group_by(id) %>%
summarize_at(vars(measurement), . %>% reduce(`+`) %>% list())
}
responses %>% split_tokens(token = "words") %>% measure_tokens(count_targets, targets = c("hi", "bye", "asdf")) %>% pool_tokens(sum)
source('~/.active-rstudio-document', echo=TRUE)
responses %>% split_tokens(token = "words") %>% measure_tokens(count_targets, targets = c("hi", "bye", "asdf")) %>% pool_tokens(sum)
responses %>% split_tokens(token = "words") %>% measure_tokens(count_targets, targets = c("hi", "bye", "asdf")) %>% pool_tokens(. %>% reduce(`+`) %>% list())
source('~/.active-rstudio-document', echo=TRUE)
measure_response_count(responses)
responses
data
df
deframe
?deframe
source('~/.active-rstudio-document', echo=TRUE)
responses %>%
enframe(name = "id", value = "response") %>%
split_tokens(token = "words") %>%
measure_tokens(count_targets, targets = c("hi", "bye"))
source('~/.active-rstudio-document', echo=TRUE)
responses %>%
enframe(name = "id", value = "response") %>%
split_tokens(token = "words") %>%
measure_tokens(count_targets, targets = c("hi", "bye"))
source('~/.active-rstudio-document', echo=TRUE)
measure_response_count(responses)
source('~/.active-rstudio-document', echo=TRUE)
measure_response_count(responses)
ponses
responses
responses[1]
responses[[1]]
responses[[2]
]
responses[2]
sum_measurements
sum_measurements(list(1, 2, 3))
sum_measurements(list(1, 2, 3, 4:5))
sum_measurements(list(1:2, 2:3, 1:2, 4:5))
sum_measurements(list(1:2, 1:2, 1:2, 1:2))
sum_measurements(repeat(1:3, 3))
repeat(1:3)
?repeat
repeat
source('~/Documents/texttest/R/measure_utils.R', echo=TRUE)
source('~/Documents/texttest/R/measure_count_targets.R', echo=TRUE)
measure_count_targets(responses, targets = c("asdf"))
measure_count_targets
measure_count_targets(responses, targets = c("asdf"))
responses %>% split_tokens(token = "words")
responses %>% split_tokens(token = "words") %>% measure_tokens(count_targets, targets = c("asdf"))
source('~/Documents/texttest/R/measure_utils.R', echo=TRUE)
responses %>% split_tokens(token = "words") %>% measure_tokens(count_targets, targets = c("asdf"))
measure_count_targets(responses, targets = c("asdf"))
measure_count_targets(responses, targets = c("asdf", "goob"))
measure_count_targets(responses, targets = c("asdf", "goob", "asdf"))
responses
measure_count_targets(responses, targets = c("asdf", "goo"))
source('~/Documents/texttest/R/measure_count_targets.R', echo=TRUE)
measure_count_targets(responses, targets = c("asdf", "goo"))
measure_word2vec_targets(responses, targets = c("asdf", "goo"))
source('~/Documents/texttest/R/measure_word2vec_targets.R', echo=TRUE)
measure_word2vec_targets(responses, targets = c("asdf", "goo"))
c("hi", "bye") = "hi"
c("hi", "bye") == "hi"
